\section{Correctness}


\begin{theorem}[Soundness]
\[
S \equiv T
\quad
\Rightarrow
\quad
\interp{S} \equiv \interp{T}
\]
\end{theorem}

\begin{proof}
We will prove different cases given in Figure~\ref{fig:equations}.

\begin{description}
  \item[\textsc{Case F \texttt{+} F}:]
    \begin{align*}
      & \; \interp{\stenFwdS{a}{d} \; \texttt{+} \; \stenFwdS{b}{d}}_{n} \\
      \equiv & \; \interp{\stenFwdS{a}{d}}_{n} \; \cup \; \interp{\stenFwdS{b}{d}}_{n} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{0, \ldots, a\} \} \; \cup \;
                  \{i\singleEntry{d}{n} \mid i \in \{0, \ldots, b\} \} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{0, \ldots, a\}
                    \vee i \in \{0, \ldots, b\} \} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{0, \ldots, a \max b\} \} \\
      \equiv & \; \interp{\stenFwdS{a \, \max \, b}{d}}_n \\
    \end{align*}
  \item[\textsc{Case C \texttt{+} C}:]
    \begin{align*}
      & \; \interp{\stenCenS{a}{d} \; \texttt{+} \; \stenCenS{b}{d}}_{n} \\
      \equiv & \; \interp{\stenCenS{a}{d}}_{n} \; \cup \; \interp{\stenCenS{b}{d}}_{n} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, a\} \} \; \cup \;
                  \{i\singleEntry{d}{n} \mid i \in \{-b, \ldots, b\} \} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, a\}
                    \vee i \in \{-b, \ldots, b\} \} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{- (a \max b), \ldots, a \max b\} \} \\
      \equiv & \; \interp{\stenCenS{a \, \max \, b}{d}}_n \\
    \end{align*}
  \item[\textsc{Case B \texttt{+} B}:]
    \begin{align*}
      & \; \interp{\stenBwdS{a}{d} \; \texttt{+} \; \stenBwdS{b}{d}}_{n} \\
      \equiv & \; \interp{\stenBwdS{a}{d}}_{n} \; \cup \; \interp{\stenBwdS{b}{d}}_{n} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, 0\} \} \; \cup \;
                  \{i\singleEntry{d}{n} \mid i \in \{-b, \ldots, 0\} \} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, 0\}
                    \vee i \in \{-b, \ldots, 0\} \} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{- (a \max b), \ldots, 0\} \} \\
      \equiv & \; \interp{\stenBwdS{a \, \max \, b}{d}}_n \\
    \end{align*}
  \item[\textsc{Case C \texttt{+} F}:]
    \begin{align*}
      & \; \interp{\stenCenS{a}{d} \; \texttt{+} \; \stenFwdS{b}{d}}_{n} \\
      \equiv & \; \interp{\stenCenS{a}{d}}_{n} \; \cup \; \interp{\stenFwdS{b}{d}}_{n} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, a\} \} \; \cup \;
                  \{i\singleEntry{d}{n} \mid i \in \{0, \ldots, b\} \} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, a\}
                    \vee i \in \{0, \ldots, b\} \} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, a\} \} \quad \text{, using }a \geq b \\
      \equiv & \; \interp{\stenCenS{a}{d}}_n \\
    \end{align*}
  \item[\textsc{Case C \texttt{+} B}:]
    \begin{align*}
      & \; \interp{\stenCenS{a}{d} \; \texttt{+} \; \stenBwdS{b}{d}}_{n} \\
      \equiv & \; \interp{\stenCenS{a}{d}}_{n} \; \cup \; \interp{\stenBwdS{b}{d}}_{n} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, a\} \} \; \cup \;
                  \{i\singleEntry{d}{n} \mid i \in \{-b, \ldots, 0\} \} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, a\}
                    \vee i \in \{-b, \ldots, 0\} \} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, a\} \} \quad \text{, using }a \geq b \\
      \equiv & \; \interp{\stenCenS{a}{d}}_n \\
    \end{align*}
  \item[\textsc{Case B \texttt{+} F}:]
    \begin{align*}
      & \; \interp{\stenBwdS{a}{d} \; \texttt{+} \; \stenFwdS{a}{d}}_{n} \\
      \equiv & \; \interp{\stenBwdS{a}{d}}_{n} \; \cup \; \interp{\stenFwdS{a}{d}}_{n} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, 0\} \} \; \cup \;
                  \{i\singleEntry{d}{n} \mid i \in \{0, \ldots, a\} \} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, 0\}
                    \vee i \in \{0, \ldots, a\} \} \\
      \equiv & \; \{i\singleEntry{d}{n} \mid i \in \{-a, \ldots, a\} \} \\
      \equiv & \; \interp{\stenCenS{a}{d}}_n \\
    \end{align*}
  \item[\textsc{Case +COMM}:] Follows from commutativity of union of sets.
  \item[\textsc{Case +ASSOC}:] Follows from associativity of union of sets.
  \item[\textsc{Case *COMM}:]
  \item[\textsc{Case *ASSOC}:]
  \item[\textsc{Case DIST}:]
  \item[\textsc{Case INTER}:]
\end{description}
\end{proof}
